#include <iostream>
#include "cleaner.h"
using namespace std;

void runTest(const char* name, char grid[ROWS][COLS], int startR, int startC) {
    cout << "=============================\n";
    cout << name << "\n";
    cout << "=============================\n";

    cout << "Mapa inicial:\n";
    showGrid(grid);

    int total = clean(startR, startC, grid);

    cout << "Mapa tras la limpieza:\n";
    showGrid(grid);

    cout << "Celdas limpiadas: " << total << "\n\n";
}

int main() {

    // 1) Caso normal
    char grid1[ROWS][COLS] = {
        {'#','#','#','#','#','#','#','#','#','#'},
        {'#','.','.','.','.','#','.','.','.','#'},
        {'#','.','#','#','.','#','#','#','.','#'},
        {'#','.','.','.','.','.','.','#','.','#'},
        {'#','#','#','.','#','#','.','.','.','#'},
        {'#','#','#','#','#','#','#','#','#','#'}
    };

    // 2) Posición inicial encerrada
    char grid2[ROWS][COLS] = {
        {'#','#','#','#','#','#','#','#','#','#'},
        {'#','#','#','#','#','#','#','#','#','#'},
        {'#','#','#','.','#','#','#','#','#','#'},
        {'#','#','#','#','#','#','#','#','#','#'},
        {'#','#','#','#','#','#','#','#','#','#'},
        {'#','#','#','#','#','#','#','#','#','#'}
    };

    // 3) Áreas aisladas
    char grid3[ROWS][COLS] = {
        {'#','#','#','#','#','#','#','#','#','#'},
        {'#','.','.','.','#','#','.','.','.','#'},
        {'#','#','#','#','#','#','#','#','#','#'},
        {'#','.','.','.','.','.','.','.','.','#'},
        {'#','#','#','#','#','#','#','#','#','#'},
        {'#','#','#','#','#','#','#','#','#','#'}
    };

    // 4) Interior vacío
    char grid4[ROWS][COLS] = {
        {'#','#','#','#','#','#','#','#','#','#'},
        {'#','.','.','.','.','.','.','.','.','#'},
        {'#','.','.','.','.','.','.','.','.','#'},
        {'#','.','.','.','.','.','.','.','.','#'},
        {'#','.','.','.','.','.','.','.','.','#'},
        {'#','#','#','#','#','#','#','#','#','#'}
    };

    runTest("Test 1: Caso normal", grid1, 1, 1);
    runTest("Test 2: Posición encerrada", grid2, 2, 3);
    runTest("Test 3: Áreas aisladas", grid3, 1, 1);
    runTest("Test 4: Interior vacío", grid4, 1, 1);

    return 0;
}
